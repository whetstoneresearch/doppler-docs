---
icon: memo
description: API Reference
---

# API specifications

## Doppler V3 SDK&#x20;

{% hint style="info" %}
This API reference was generated by feeding the [Doppler SDK](https://github.com/whetstoneresearch/doppler-sdk/tree/main/packages/doppler-v3-sdk) into [Claude](https://claude.ai/). It may contain inaccuracies. If you encounter any issues, please [file a GitHub issue here on the SDK](https://github.com/whetstoneresearch/doppler-sdk/issues)!
{% endhint %}

### Factory&#x20;

#### ReadFactory

Read-only operations for the Doppler factory.

```typescript
const factory = new ReadFactory(address: Address, drift?: Drift<ReadAdapter>);
```

Methods:

* `getModuleState(address: Address): Promise<ModuleState>`
  * Returns the state of a module (NotWhitelisted, TokenFactory, GovernanceFactory, HookFactory, Migrator)
* `getAssetData(asset: Address): Promise<AssetData>`
  *   Returns data about a Doppler asset:

      ```typescript
      {
        numeraire: Address,
        timelock: Address,
        governance: Address,
        liquidityMigrator: Address,
        poolInitializer: Address,
        pool: Address,
        migrationPool: Address,
        numTokensToSell: bigint,
        totalSupply: bigint,
        integrator: Address
      }
      ```
* `getCreateEvents(): Promise<Event[]>`
* `getMigrateEvents(): Promise<Event[]>`

#### ReadWriteFactory

Extends ReadFactory with write operations.

```typescript
const factory = new ReadWriteFactory(address: Address, drift: Drift<ReadWriteAdapter>);
```

Methods:

*   `create(params: CreateParams): Promise<Hash>`

    * Creates a new Doppler token

    ```typescript
    interface CreateParams {
      initialSupply: bigint,
      numTokensToSell: bigint,
      numeraire: Address,
      tokenFactory: Address,
      tokenFactoryData: Hex,
      governanceFactory: Address,
      governanceFactoryData: Hex,
      poolInitializer: Address,
      poolInitializerData: Hex,
      liquidityMigrator: Address,
      liquidityMigratorData: Hex,
      integrator: Address,
      salt: Hex
    }
    ```

### Token Operations

#### ReadDerc20

Read operations for Doppler tokens.

```typescript
const token = new ReadDerc20(address: Address, drift?: Drift<ReadAdapter>);
```

Methods:

* `getName(): Promise<string>`
* `getSymbol(): Promise<string>`
* `getDecimals(): Promise<number>`
* `getTokenURI(): Promise<string>`
* `getAllowance(owner: Address, spender: Address): Promise<bigint>`
* `getBalanceOf(account: Address): Promise<bigint>`
* `getTotalSupply(): Promise<bigint>`
* `getPool(): Promise<Address>`
* `getIsPoolUnlocked(): Promise<boolean>`
* `getVestingData(account: Address): Promise<{totalAmount: bigint, releasedAmount: bigint}>`
* `getVestingDuration(): Promise<bigint>`
* `getVestingStart(): Promise<bigint>`
* `getVestedTotalAmount(): Promise<bigint>`
* `getYearlyMintRate(): Promise<bigint>`

#### ReadWriteDerc20

Extends ReadDerc20 with write operations.

```typescript
const token = new ReadWriteDerc20(address: Address, drift: Drift<ReadWriteAdapter>);
```

Methods:

* `approve(spender: Address, value: bigint): Promise<Hash>`

### Pool Operations

#### ReadUniswapV3Pool

Read operations for Doppler V3 pools.

```typescript
const pool = new ReadUniswapV3Pool(address: Address, drift?: Drift<ReadAdapter>);
```

Methods:

* `getMintEvents(): Promise<Event[]>`
* `getBurnEvents(): Promise<Event[]>`
* `getSwapEvents(): Promise<Event[]>`
* `getSlot0(): Promise<{sqrtPriceX96: bigint, tick: number}>`
* `getToken0(): Promise<Address>`
* `getToken1(): Promise<Address>`
* `getFee(): Promise<number>`

### Event Types

#### Factory Events

```typescript
interface CreateEvent {
  asset: Address
  numeraire: Address
  initializer: Address
  poolOrHook: Address
}

interface MigrateEvent {
  asset: Address
  pool: Address
}
```

#### Pool Events

```typescript
interface MintEvent {
  owner: Address
  tickLower: number
  tickUpper: number
  amount: bigint
  amount0: bigint
  amount1: bigint
}

interface BurnEvent {
  owner: Address
  tickLower: number
  tickUpper: number
  amount: bigint
  amount0: bigint
  amount1: bigint
}

interface SwapEvent {
  sender: Address
  recipient: Address
  amount0: bigint
  amount1: bigint
  sqrtPriceX96: bigint
  liquidity: bigint
  tick: number
}
```

### Network Configuration

```typescript
const DOPPLER_V3_ADDRESSES: { [chainId: number]: DopplerV3Addresses }
```

Supported Networks:

* Unichain Sepolia (chainId: 1301)
* Unichain (chainId: 130)

## Doppler v4 SDK API Reference

{% hint style="info" %}
Doppler v4 is not currently deployed and the v4 SDK is not ready for implementation yet.&#x20;

Check back soon :heart:
{% endhint %}
